(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue")):typeof define=="function"&&define.amd?define(["vue"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.UnifiedAuthentication=o(e.Vue))})(this,function(e){"use strict";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */var o;(function(t){t.pop="pop",t.push="push"})(o||(o={}));var l;(function(t){t.back="back",t.forward="forward",t.unknown=""})(l||(l={})),Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var a;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(a||(a={})),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":""),Symbol(process.env.NODE_ENV!=="production"?"router":"");const d=Symbol(process.env.NODE_ENV!=="production"?"route location":"");Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function u(t){return e.inject(d)}const p={name:"UnifiedAuthentication",props:{workspace_id:{type:String,required:!0},dc:String,environment:String,title:String,description:String,success_url:String,failure_url:String,state:String,pretext:String,include_text:Boolean,include_icon:Boolean},setup(){var i;return{error:(((i=u().query)==null?void 0:i.error)||"").replace("_"," ")}},watch:{include_text(t){this._include_text=t!==void 0?t:!0},include_icon(t){this._include_icon=t!==void 0?t:!0}},data(){const t=(this.dc||"us").toLowerCase();return{api_url:location.href.includes("localhost:")?"http://localhost:8000":t==="au"?"https://api-au.unified.to":t==="eu"?"https://api-eu.unified.to":"https://api.unified.to",authintegrations:void 0,_include_text:this.include_text!==!1?this.include_text:!0,_include_icon:this.include_icon!==!1?this.include_icon:!0}},methods:{href(t){const n=new URLSearchParams;return n.append("redirect","true"),this.success_url?n.append("success_redirect",this.success_url):n.append("success_redirect",location.href.split("?")[0]),this.failure_url?n.append("failure_redirect",this.failure_url):n.append("failure_redirect",location.href.split("?")[0]),this.state&&n.append("state",this.state),this.environment&&this.environment!=="Production"&&n.append("env",this.environment),`${this.api_url}/unified/integration/login/${this.workspace_id}/${t.type}?${n.toString()}`}},async mounted(){this.authintegrations=await(await fetch(`${this.api_url}/unified/integration/workspace/${this.workspace_id}?categories=auth&active=true&summary=true&env=${this.environment||""}`)).json()||[],console.log(this.authintegrations)}},_=(t,n)=>{const i=t.__vccOpts||t;for(const[s,r]of n)i[s]=r;return i},h={class:"w-full"},f={key:0,class:"text-xl font-bold mb-4"},m={key:1,class:"text-md mb-4"},k={key:2,class:"justify-center items-center w-full py-8 font-semibold text-red-500 leading-5 tracking-tight inline-flex"},g={key:3,class:"flex flex-col gap-2"},x=["href","title"],y=["src"],S={key:1,class:""};function E(t,n,i,s,r,w){return e.openBlock(),e.createElementBlock("div",h,[i.title?(e.openBlock(),e.createElementBlock("h3",f,e.toDisplayString(i.title),1)):e.createCommentVNode("",!0),i.description?(e.openBlock(),e.createElementBlock("p",m,e.toDisplayString(i.description),1)):e.createCommentVNode("",!0),s.error?(e.openBlock(),e.createElementBlock("div",k,e.toDisplayString(s.error),1)):(e.openBlock(),e.createElementBlock("div",g,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.authintegrations,c=>(e.openBlock(),e.createElementBlock("a",{class:"px-4 py-3 flex-nowrap font-medium select-none rounded justify-center items-center w-full inline-flex border hover:bg-blue-500 hover:text-black",href:w.href(c),title:i.pretext?`${i.pretext} ${c.name}`:c.name},[r._include_icon?(e.openBlock(),e.createElementBlock("img",{key:0,src:c.logo_url,class:"w-5 h-5 mr-2"},null,8,y)):e.createCommentVNode("",!0),r._include_text?(e.openBlock(),e.createElementBlock("div",S,e.toDisplayString(i.pretext)+" "+e.toDisplayString(c.name),1)):e.createCommentVNode("",!0)],8,x))),256))]))])}return _(p,[["render",E]])});
