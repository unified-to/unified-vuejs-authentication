(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue")):typeof define=="function"&&define.amd?define(["vue"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.UnifiedAuthentication=o(e.Vue))})(this,function(e){"use strict";const o={name:"UnifiedAuthentication",props:{workspace_id:{type:String,required:!0},dc:String,environment:String,title:String,description:String,success_url:String,failure_url:String,state:String,pretext:String,include_text:Boolean,include_icon:Boolean,error:String},watch:{include_text(t){this._include_text=t!==void 0?t:!0},include_icon(t){this._include_icon=t!==void 0?t:!0}},data(){var i;const t=(this.dc||"us").toLowerCase();return{api_url:location.href.includes("localhost:")?"http://localhost:8000":t==="au"?"https://api-au.unified.to":t==="eu"?"https://api-eu.unified.to":"https://api.unified.to",authintegrations:void 0,_include_text:this.include_text!==!1?this.include_text:!0,_include_icon:this.include_icon!==!1?this.include_icon:!0,_error:(i=this.error)==null?void 0:i.replace("_"," ")}},methods:{href(t){const n=new URLSearchParams;return n.append("redirect","true"),this.success_url?n.append("success_redirect",this.success_url):n.append("success_redirect",location.href.split("?")[0]),this.failure_url?n.append("failure_redirect",this.failure_url):n.append("failure_redirect",location.href.split("?")[0]),this.state&&n.append("state",this.state),this.environment&&this.environment!=="Production"&&n.append("env",this.environment),`${this.api_url}/unified/integration/login/${this.workspace_id}/${t.type}?${n.toString()}`}},async mounted(){this.authintegrations=await(await fetch(`${this.api_url}/unified/integration/workspace/${this.workspace_id}?categories=auth&active=true&summary=true&env=${this.environment||""}`)).json()||[],console.log(this.authintegrations)}},l=(t,n)=>{const i=t.__vccOpts||t;for(const[s,r]of n)i[s]=r;return i},a={class:"w-full"},d={key:0,class:"text-xl font-bold mb-4"},u={key:1,class:"text-md mb-4"},_={key:2,class:"justify-center items-center w-full py-8 font-semibold text-red-500 leading-5 tracking-tight inline-flex"},h={key:3,class:"flex flex-col gap-2"},p=["href","title"],f=["src"],m={key:1,class:""};function g(t,n,i,s,r,k){return e.openBlock(),e.createElementBlock("div",a,[i.title?(e.openBlock(),e.createElementBlock("h3",d,e.toDisplayString(i.title),1)):e.createCommentVNode("",!0),i.description?(e.openBlock(),e.createElementBlock("p",u,e.toDisplayString(i.description),1)):e.createCommentVNode("",!0),r._error?(e.openBlock(),e.createElementBlock("div",_,e.toDisplayString(r._error),1)):(e.openBlock(),e.createElementBlock("div",h,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.authintegrations,c=>(e.openBlock(),e.createElementBlock("a",{class:"px-4 py-3 flex-nowrap font-medium select-none rounded justify-center items-center w-full inline-flex border hover:bg-blue-500 hover:text-black",href:k.href(c),title:i.pretext?`${i.pretext} ${c.name}`:c.name},[r._include_icon?(e.openBlock(),e.createElementBlock("img",{key:0,src:c.logo_url,class:"w-5 h-5 mr-2"},null,8,f)):e.createCommentVNode("",!0),r._include_text?(e.openBlock(),e.createElementBlock("div",m,e.toDisplayString(i.pretext)+" "+e.toDisplayString(c.name),1)):e.createCommentVNode("",!0)],8,p))),256))]))])}return l(o,[["render",g]])});
