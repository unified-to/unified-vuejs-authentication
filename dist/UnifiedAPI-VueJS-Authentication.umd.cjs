(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.Unifiedauthentication=r(e.Vue))})(this,function(e){"use strict";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */var r;(function(t){t.pop="pop",t.push="push"})(r||(r={}));var l;(function(t){t.back="back",t.forward="forward",t.unknown=""})(l||(l={})),Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var a;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(a||(a={})),Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),Symbol(process.env.NODE_ENV!=="production"?"router view depth":""),Symbol(process.env.NODE_ENV!=="production"?"router":"");const p=Symbol(process.env.NODE_ENV!=="production"?"route location":"");Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function u(t){return e.inject(p)}const f={name:"UnifiedAuthentication",props:{workspace_id:{type:String,required:!0},dc:String,environment:String,title:String,description:String,sUrl:String,fUrl:String,scopes:Array,state:String,pretext:String,includeText:Boolean,includeIcon:Boolean},setup(){var n;return{error:(((n=u().query)==null?void 0:n.error)||"").replace("_"," ")}},data(){return{api_url:this.dc==="au"?"https://api-au.unified.to":this.dc==="eu"?"https://api-eu.unified.to":"https://api.unified.to",authintegrations:[],include_text:this.includeText!==!1,include_icon:this.includeIcon!==!1}},methods:{href(t){const o=new URLSearchParams;return o.append("redirect","true"),this.sUrl?o.append("success_redirect",this.sUrl):o.append("success_redirect",location.href.split("?")[0]),this.fUrl?o.append("failure_redirect",this.fUrl):o.append("failure_redirect",location.href.split("?")[0]),this.state&&o.append("state",this.state),this.environment&&this.environment!=="Production"&&o.append("env",this.environment),`${this.api_url}unified/integration/login/${this.workspace_id}/${t.type}?${o.toString()}`}},async mounted(){this.authintegrations=await(await fetch(`${this.api_url}/unified/integration/workspace/${this.workspace_id}?categories=auth&active=true&summary=true&env=${this.environment}`)).json()||[]}},m=(t,o)=>{const n=t.__vccOpts||t;for(const[s,i]of o)n[s]=i;return n},h={class:"w-full ml:w-1/3 md:w-1/2 flex place-content-center min-h-screen items-center justify-center px-8 md:px-8"},_={key:0,class:""},k={key:1,class:"lg:w-2/3 sm:w-2/3 md:w-full w-full"},g={key:0,class:"text-xl font-bold"},y={key:1,class:"text-md"},w={key:2,class:"justify-center items-center w-full py-8 font-semibold text-red-500 leading-5 tracking-tight inline-flex"},x={key:3,class:""},B=["href","title"],E=["src"],S={key:1,class:""};function b(t,o,n,s,i,N){var d;return e.openBlock(),e.createElementBlock("div",h,[(d=i.authintegrations)!=null&&d.length?(e.openBlock(),e.createElementBlock("div",k,[n.title?(e.openBlock(),e.createElementBlock("h3",g,e.toDisplayString(n.title),1)):e.createCommentVNode("",!0),n.description?(e.openBlock(),e.createElementBlock("p",y,e.toDisplayString(n.description),1)):e.createCommentVNode("",!0),s.error?(e.openBlock(),e.createElementBlock("div",w,e.toDisplayString(s.error),1)):(e.openBlock(),e.createElementBlock("div",x,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.authintegrations,c=>(e.openBlock(),e.createElementBlock("a",{class:"my-1 flex-nowrap font-medium select-none rounded-lg justify-center items-center w-full inline-flex mb-2 mr-2 border bg-blue-500 text-white hover:bg-blue-700 text-white border-gray-500 hover:border-white",href:N.href(c),title:n.pretext?`${n.pretext} ${c.name}`:c.name},[i.include_icon?(e.openBlock(),e.createElementBlock("img",{key:0,src:c.logo_url,class:"w-5 h-5 mr-2"},null,8,E)):e.createCommentVNode("",!0),i.include_text?(e.openBlock(),e.createElementBlock("div",S,e.toDisplayString(n.pretext)+" "+e.toDisplayString(c.name),1)):e.createCommentVNode("",!0)],8,B))),256))]))])):(e.openBlock(),e.createElementBlock("div",_,"‚ü≥"))])}return m(f,[["render",b]])});
