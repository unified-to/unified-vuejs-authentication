(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue")):typeof define=="function"&&define.amd?define(["vue"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.UnifiedAuthentication=c(e.Vue))})(this,function(e){"use strict";const c={name:"UnifiedAuthentication",props:{workspace_id:{type:String,required:!0},dc:String,environment:String,title:String,description:String,success_url:String,failure_url:String,state:String,pretext:String,include_text:Boolean,include_icon:Boolean,error:String},setup(){return{BUTTON_CONTAINER_CLASSES:"flex flex-col gap-2",BUTTON_CLASSES_ICON:"w-5 h-5 mr-2",BUTTON_CLASSES:"px-4 py-3 flex-nowrap font-medium select-none rounded justify-center items-center w-full inline-flex border hover:bg-blue-500 hover:text-black",TITLE_CLASSES:"text-xl font-bold mb-4",DESCRIPTION_CLASSES:"text-md mb-4",ERROR_CLASSES:"justify-center items-center w-full py-8 font-semibold text-red-500 leading-5 tracking-tight inline-flex"}},watch:{include_text(t){this._include_text=t!==void 0?t:!0},include_icon(t){this._include_icon=t!==void 0?t:!0}},data(){var i;const t=(this.dc||"us").toLowerCase();return{api_url:location.href.includes("localhost:")?"http://localhost:8000":t==="au"?"https://api-au.unified.to":t==="eu"?"https://api-eu.unified.to":"https://api.unified.to",authintegrations:void 0,_include_text:this.include_text!==!1?this.include_text:!0,_include_icon:this.include_icon!==!1?this.include_icon:!0,_error:(i=this.error)==null?void 0:i.replace("_"," ")}},methods:{href(t){const n=new URLSearchParams;return n.append("redirect","true"),this.success_url?n.append("success_redirect",this.success_url):n.append("success_redirect",location.href.split("?")[0]),this.failure_url?n.append("failure_redirect",this.failure_url):n.append("failure_redirect",location.href.split("?")[0]),this.state&&n.append("state",this.state),this.environment&&this.environment!=="Production"&&n.append("env",this.environment),`${this.api_url}/unified/integration/login/${this.workspace_id}/${t.type}?${n.toString()}`}},async mounted(){this.authintegrations=await(await fetch(`${this.api_url}/unified/integration/workspace/${this.workspace_id}?categories=auth&active=true&summary=true&env=${this.environment||""}`)).json()||[],console.log(this.authintegrations)}},l=(t,n)=>{const i=t.__vccOpts||t;for(const[r,o]of n)i[r]=o;return i},a={class:"w-full"},d=["href","title"],_=["src"],h={key:1,class:""};function u(t,n,i,r,o,f){return e.openBlock(),e.createElementBlock("div",a,[i.title?(e.openBlock(),e.createElementBlock("h3",{key:0,class:e.normalizeClass(r.TITLE_CLASSES)},e.toDisplayString(i.title),3)):e.createCommentVNode("",!0),i.description?(e.openBlock(),e.createElementBlock("p",{key:1,class:e.normalizeClass(r.DESCRIPTION_CLASSES)},e.toDisplayString(i.description),3)):e.createCommentVNode("",!0),o._error?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(r.ERROR_CLASSES)},e.toDisplayString(o._error),3)):(e.openBlock(),e.createElementBlock("div",{key:3,class:e.normalizeClass(r.BUTTON_CONTAINER_CLASSES)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.authintegrations,s=>(e.openBlock(),e.createElementBlock("a",{class:e.normalizeClass(r.BUTTON_CLASSES),href:f.href(s),title:i.pretext?`${i.pretext} ${s.name}`:s.name},[o._include_icon?(e.openBlock(),e.createElementBlock("img",{key:0,src:s.logo_url,class:e.normalizeClass(r.BUTTON_CLASSES_ICON)},null,10,_)):e.createCommentVNode("",!0),o._include_text?(e.openBlock(),e.createElementBlock("div",h,e.toDisplayString(i.pretext)+" "+e.toDisplayString(s.name),1)):e.createCommentVNode("",!0)],10,d))),256))],2))])}return l(c,[["render",u]])});
